<h2>Lists</h2>

<div class="lists-viewport">
  <div class="lists-container">
    {{#each controller}}
      {{#if isLoaded}}
        <div class="list">
          {{view RealtimeTodos.TitleView valueBinding="title" class="title"}}
          ID: <code>{{id}}</code>
          {{#render 'list' this}}
            {{#render 'items' items}}
              <ul class="items">
                {{#each controller}}
                  {{view RealtimeTodos.ItemView class="item" contentBinding=this tagName='li'}}
                {{/each}}
                <li><a href="#" {{action "addNewItem" target="controller"}}>Add new item</a></li>
                <li><a href="#" {{action "clearDoneItems"}}>Clear done items</a></li>
              </ul>
            {{/render}}

            <h4>Users</h4>
            <ul>
              {{#each users}}
              <li {{bindAttr class="isOnline"}}>{{email}}</li>
              {{/each}}
              <li><a href="#" {{action "addUser"}}>Add user to list</a></li>
            </ul>
          {{/render}}
        </div>
      {{/if}}
    {{/each}}
  </div>
</div>

<a href="#" {{action "addNew"}}>Add New List</a>
